-- DROP TABLES IF EXIST (opzionale, solo se vuoi cancellare prima)
DROP TABLE IF EXISTS ordine;
DROP TABLE IF EXISTS cliente;
DROP TABLE IF EXISTS campagna;

-- Tabella campagna
CREATE TABLE campagna (
    id_campagna INT PRIMARY KEY AUTO_INCREMENT,
    canale VARCHAR(50) NOT NULL
);

-- Tabella cliente
CREATE TABLE cliente (
    id_cliente INT PRIMARY KEY AUTO_INCREMENT,
    id_campagna_sorgente INT NOT NULL,
    data_acquisizione DATE NOT NULL,
    FOREIGN KEY (id_campagna_sorgente) REFERENCES campagna(id_campagna)
);

-- Tabella ordine
CREATE TABLE ordine (
    id_ordine INT PRIMARY KEY AUTO_INCREMENT,
    id_cliente INT NOT NULL,
    data_ordine DATE NOT NULL,
    importo_pagato DECIMAL(10,2) NOT NULL,
    FOREIGN KEY (id_cliente) REFERENCES cliente(id_cliente)
);

-- Inserimento campagne (specificando id per mantenere i collegamenti coi clienti)
INSERT INTO campagna (id_campagna, canale) VALUES
(1, 'Google Ads'),
(2, 'Facebook Ads'),
(3, 'Influencer'),
(4, 'Google Ads'),
(5, 'Facebook Ads');

-- Inserimento clienti (id_cliente da 1 a 20)
INSERT INTO cliente (id_cliente, id_campagna_sorgente, data_acquisizione) VALUES
(1, 1, '2023-01-04'),
(2, 2, '2023-01-10'),
(3, 3, '2023-01-12'),
(4, 4, '2023-01-15'),
(5, 5, '2023-01-17'),
(6, 1, '2023-01-25'),
(7, 2, '2023-02-01'),
(8, 3, '2023-02-10'),
(9, 4, '2023-02-15'),
(10, 5, '2023-02-18'),
(11, 1, '2023-03-03'),
(12, 2, '2023-03-10'),
(13, 3, '2023-03-20'),
(14, 4, '2023-04-05'),
(15, 5, '2023-04-12'),
(16, 1, '2023-05-03'),
(17, 2, '2023-05-10'),
(18, 3, '2023-05-15'),
(19, 4, '2023-05-20'),
(20, 5, '2023-06-01');

-- Inserimento ordini (100 ordini, id_cliente da 1 a 20 ripetuti)
INSERT INTO ordine (id_ordine, id_cliente, data_ordine, importo_pagato) VALUES
(1, 1, '2023-01-08', 402.50),
(2, 2, '2023-01-13', 129.10),
(3, 3, '2023-01-17', 321.75),
(4, 4, '2023-01-21', 214.20),
(5, 5, '2023-01-23', 317.50),
(6, 6, '2023-01-28', 112.99),
(7, 7, '2023-02-03', 267.85),
(8, 8, '2023-02-13', 435.20),
(9, 9, '2023-02-17', 190.00),
(10, 10, '2023-02-20', 400.00),
(11, 11, '2023-03-05', 248.10),
(12, 12, '2023-03-12', 302.55),
(13, 13, '2023-03-22', 110.75),
(14, 14, '2023-04-08', 486.10),
(15, 15, '2023-04-15', 144.30),
(16, 16, '2023-05-06', 277.40),
(17, 17, '2023-05-13', 398.70),
(18, 18, '2023-05-18', 388.00),
(19, 19, '2023-05-23', 200.90),
(20, 20, '2023-06-04', 499.99),
(21, 1, '2023-01-20', 151.80),
(22, 2, '2023-01-22', 360.15),
(23, 3, '2023-01-27', 230.40),
(24, 4, '2023-02-02', 487.00),
(25, 5, '2023-02-04', 199.20),
(26, 6, '2023-01-31', 405.60),
(27, 7, '2023-02-06', 289.00),
(28, 8, '2023-02-15', 341.40),
(29, 9, '2023-02-20', 158.99),
(30, 10, '2023-02-25', 280.55),
(31, 11, '2023-03-10', 489.00),
(32, 12, '2023-03-18', 135.50),
(33, 13, '2023-03-25', 290.75),
(34, 14, '2023-04-10', 377.10),
(35, 15, '2023-04-18', 465.90),
(36, 16, '2023-05-09', 163.25),
(37, 17, '2023-05-16', 124.60),
(38, 18, '2023-05-22', 413.20),
(39, 19, '2023-05-27', 158.10),
(40, 20, '2023-06-06', 249.75),
(41, 1, '2023-02-01', 412.00),
(42, 2, '2023-02-05', 157.35),
(43, 3, '2023-02-12', 216.00),
(44, 4, '2023-02-18', 441.00),
(45, 5, '2023-02-22', 367.00),
(46, 6, '2023-02-27', 168.50),
(47, 7, '2023-03-03', 349.99),
(48, 8, '2023-03-09', 256.90),
(49, 9, '2023-03-15', 112.10),
(50, 10, '2023-03-20', 222.00),
(51, 11, '2023-03-30', 200.00),
(52, 12, '2023-04-05', 190.25),
(53, 13, '2023-04-12', 352.00),
(54, 14, '2023-04-16', 330.00),
(55, 15, '2023-04-22', 488.30),
(56, 16, '2023-05-13', 135.00),
(57, 17, '2023-05-19', 421.10),
(58, 18, '2023-05-25', 209.30),
(59, 19, '2023-05-30', 322.22),
(60, 20, '2023-06-10', 167.67),
(61, 1, '2023-02-10', 309.00),
(62, 2, '2023-02-15', 297.80),
(63, 3, '2023-02-19', 450.45),
(64, 4, '2023-02-26', 280.00),
(65, 5, '2023-03-01', 195.90),
(66, 6, '2023-03-06', 326.70),
(67, 7, '2023-03-11', 488.00),
(68, 8, '2023-03-18', 169.90),
(69, 9, '2023-03-24', 302.00),
(70, 10, '2023-03-28', 191.00),
(71, 11, '2023-04-01', 125.30),
(72, 12, '2023-04-08', 330.00),
(73, 13, '2023-04-16', 212.00),
(74, 14, '2023-04-20', 480.00),
(75, 15, '2023-04-26', 321.21),
(76, 16, '2023-05-18', 485.00),
(77, 17, '2023-05-23', 122.90),
(78, 18, '2023-05-28', 231.00),
(79, 19, '2023-06-03', 411.10),
(80, 20, '2023-06-13', 212.10),
(81, 1, '2023-03-01', 199.00),
(82, 2, '2023-03-06', 155.10),
(83, 3, '2023-03-11', 234.90),
(84, 4, '2023-03-16', 497.00),
(85, 5, '2023-03-21', 120.00),
(86, 6, '2023-03-27', 478.00),
(87, 7, '2023-04-02', 320.10),
(88, 8, '2023-04-07', 189.20),
(89, 9, '2023-04-13', 177.50),
(90, 10, '2023-04-18', 412.00),
(91, 11, '2023-04-24', 263.00),
(92, 12, '2023-04-29', 376.00),
(93, 13, '2023-05-03', 105.00),
(94, 14, '2023-05-08', 295.00),
(95, 15, '2023-05-13', 178.90),
(96, 16, '2023-05-23', 400.00),
(97, 17, '2023-05-29', 180.00),
(98, 18, '2023-06-04', 220.00),
(99, 19, '2023-06-09', 198.50),
(100, 20, '2023-06-14', 303.30);
